library(twelvedays)
remotes::install_github("yourname/twelvedays")
library(remotes)
install.packages("remotes")
remotes::install_github("yourname/twelvedays")
remotes::install_github("Ammlakh/twelvedays")
library(twelvedays)
xmas2 <- read.csv("https://www.dropbox.com/s/ap2hqssese1ki4j/xmas_2.csv?dl=1")
library(xfun)
xmas2$num_word = numbers_to_words(xmas2$Day)
pluralize_gift <- function(gift){
if(str_detect(gift, "y")){
gift <- str_replace(gift, "y", "ies")
} else if(str_detect(gift, "oo")){
gift <- str_replace(gift, "oo", "ee")
} else{
gift <- paste0(gift, "s")
}
}
make_phrase <- function(num, num_word, item, verb, adjective, location){
item <- replace_na(item, "")
verb <- replace_na(verb, "")
adjective <- replace_na(adjective, "")
location <- replace_na(location, "")
if (num > 1) {
item <- pluralize_gift(item)
}
str_squish(paste(num_word, adjective, item, verb, location, sep = " "))
}
sing_day <- function(dataset, line, phrase_col){
val <- line
num_word <- ordinal(val)
og <- str_glue("On the {num_word} day of Christmas, my true love gave to me,")
phrase <- dataset %>% pull( {{phrase_col}})
phrase[1] <- paste0("and ", phrase[1], ".")
items <- str_c(phrase[val:1], collapse = ", \n")
str_glue("{og} \n{items}")
}
library(twelvedays)
xmas2 <- read.csv("https://www.dropbox.com/s/ap2hqssese1ki4j/xmas_2.csv?dl=1")
xmas2 <- xmas2 %>%
mutate(Full.Phrase = pmap_chr(list(Day, num_word, Gift.Item, Verb, Adjective, Location), make_phrase))
library(readr)
library(tidyverse)
library(lubridate)
library(stringr)
library(dplyr)
library(glue)
library(purrr)
library(english)
xmas2 <- xmas2 %>%
mutate(Full.Phrase = pmap_chr(list(Day, num_word, Gift.Item, Verb, Adjective, Location), make_phrase))
library(xfun)
xmas2$num_word = numbers_to_words(xmas2$Day)
xmas2 <- xmas2 %>%
mutate(Full.Phrase = pmap_chr(list(Day, num_word, Gift.Item, Verb, Adjective, Location), make_phrase))
map(1:12, ~sing_day(xmas2, .x, Full.Phrase)) %>%
str_c(collapse = "\n \n") %>%
cat()
pluralize_gift <- function(gift){
if(str_detect(gift, "y")){
gift <- str_replace(gift, "y", "ies")
} else if(str_detect(gift, "oo")){
gift <- str_replace(gift, "oo", "ee")
} else{
gift <- paste0(gift, "s")
}
}
make_phrase <- function(num, num_word, item, verb, adjective, location){
item <- replace_na(item, "")
verb <- replace_na(verb, "")
adjective <- replace_na(adjective, "")
location <- replace_na(location, "")
if (num > 1) {
item <- pluralize_gift(item)
}
str_squish(paste(num_word, adjective, item, verb, location, sep = " "))
}
sing_day <- function(dataset, line, phrase_col){
val <- line
num_word <- ordinal(val)
og <- str_glue("On the {num_word} day of Christmas, my true love gave to me,")
phrase <- dataset %>% pull( {{phrase_col}})
phrase[1] <- paste0("and ", phrase[1], ".")
items <- str_c(phrase[val:1], collapse = ", \n")
str_glue("{og} \n{items}")
}
xmas2 <- xmas2 %>%
mutate(Full.Phrase = pmap_chr(list(Day, num_word, Gift.Item, Verb, Adjective, Location), make_phrase))
map(1:12, ~sing_day(xmas2, .x, Full.Phrase)) %>%
str_c(collapse = "\n \n") %>%
cat()
test_check("twelvedays")
make_phrase(5, "five", "fruit", "went", "tasty", "home")
test_check("twelvedays")
expect_equal("five tasty fruits went home")
library(testthat)
library(twelvedays)
test_that(make_phrase(5, "five", "fruit", "went", "tasty", "home"){
expect_equal("five tasty fruits went home")
})
test_check("twelvedays")
library(testthat)
library(twelvedays)
test_that(make_phrase(5, "five", "fruit", "went", "tasty", "home"){
expect_equal("five tasty fruits went home")
})
test_that("five tasty fruits went home"{
expect_equal(make_phrase(5, "five", "fruit", "went", "tasty", "home"))
})
test_check("twelvedays")
library(testthat)
library(twelvedays)
test_that("five tasty fruits went home"{
expect_equal(make_phrase(5, "five", "fruit", "went", "tasty", "home"))
})
library(testthat)
library(twelvedays)
#make_phrase <- function(num, num_word, item, verb, adjective, location)
#  make_phrase(5, "five", "fruit", "went", "tasty", "home")
test_that("five tasty fruits went home"{
expect_equal(make_phrase(5, "five", "fruit", "went", "tasty", "home"))
})
test_check("twelvedays")
library(testthat)
library(twelvedays)
#make_phrase <- function(num, num_word, item, verb, adjective, location)
#  make_phrase(5, "five", "fruit", "went", "tasty", "home")
test_that("five tasty fruits went home"{
expect_equal(make_phrase(5, "five", "fruit", "went", "tasty", "home"))
})
test_check("twelvedays")
#test_check("twelvedays")
#test_check("twelvedays")
#test_check("twelvedays")
#test_check("twelvedays")
#test_check("twelvedays")
#test_check("twelvedays")
source('~/Stat 331/twelvedays/tests/testthat.R')
item <- pluralize_gift(item)
make_phrase <- function(num, num_word, item, verb, adjective, location){
item <- replace_na(item, "")
verb <- replace_na(verb, "")
adjective <- replace_na(adjective, "")
location <- replace_na(location, "")
if (num > 1) {
item <- pluralize_gift(item)
}
str_squish(paste(num_word, adjective, item, verb, location, sep = " "))
}
make_phrase <- function(num, num_word, item, verb, adjective, location){
item <- replace_na(item, "")
verb <- replace_na(verb, "")
adjective <- replace_na(adjective, "")
location <- replace_na(location, "")
if (num > 1) {
item <- pluralize_gift(item)
}
str_squish(paste(num_word, adjective, item, verb, location, sep = " "))
}
make_phrase(5, "five", "fruit", "went", "tasty", "home")
gift <- gift %>%
if(str_detect(gift, "y")){
gift <- str_replace(gift, "y", "ies")
} else if(str_detect(gift, "oo")){
gift <- str_replace(gift, "oo", "ee")
} else{
gift <- paste0(gift, "s")
}
#'
#' @return A string or vector of strings with the pluralized words
#'
#' @import stringr
#' @import dplyr
#' @import glue
#' @import purrr
#' @import tidyverse
#'
#' @export
pluralize_gift <- function(gift){
if(str_detect(gift, "y")){
gift <- str_replace(gift, "y", "ies")
} else if(str_detect(gift, "oo")){
gift <- str_replace(gift, "oo", "ee")
} else{
gift <- paste0(gift, "s")
}
}
remotes::install_github("Ammlakh/twelvedays")
remotes::install_github("Ammlakh/twelvedays")
line <- c(1, 2)
phrase_col <- c("banana", "apple")
dataset <- data.frame(line, phrase_col)
sing_day(dataset, line, phrase_col)
sing_day <- function(dataset, line, phrase_col){
val <- line
num_word <- ordinal(val)
og <- str_glue("On the {num_word} day of Christmas, my true love gave to me,")
phrase <- dataset %>% pull( {{phrase_col}})
phrase[1] <- paste0("and ", phrase[1], ".")
items <- str_c(phrase[val:1], collapse = ", \n")
str_glue("{og} \n{items}")
}
line <- c(1, 2)
phrase_col <- c("banana", "apple")
dataset <- data.frame(line, phrase_col)
sing_day(dataset, line, phrase_col)
library(english)
sing_day <- function(dataset, line, phrase_col){
val <- line
num_word <- ordinal(val)
og <- str_glue("On the {num_word} day of Christmas, my true love gave to me,")
phrase <- dataset %>% pull( {{phrase_col}})
phrase[1] <- paste0("and ", phrase[1], ".")
items <- str_c(phrase[val:1], collapse = ", \n")
str_glue("{og} \n{items}")
}
line <- c(1, 2)
phrase_col <- c("banana", "apple")
dataset <- data.frame(line, phrase_col)
sing_day(dataset, line, phrase_col)
library(readr)
library(tidyverse)
library(lubridate)
library(stringr)
library(dplyr)
library(glue)
library(purrr)
sing_day <- function(dataset, line, phrase_col){
val <- line
num_word <- ordinal(val)
og <- str_glue("On the {num_word} day of Christmas, my true love gave to me,")
phrase <- dataset %>% pull( {{phrase_col}})
phrase[1] <- paste0("and ", phrase[1], ".")
items <- str_c(phrase[val:1], collapse = ", \n")
str_glue("{og} \n{items}")
}
line <- c(1, 2)
phrase_col <- c("banana", "apple")
dataset <- data.frame(line, phrase_col)
sing_day(dataset, line, phrase_col)
sing_day <- function(dataset, line, phrase_col){
val <- line
num_word <- ordinal(val)
og <- str_glue("On the {num_word} day of Christmas, my true love gave to me,")
phrase <- dataset %>% pull( {{phrase_col}})
phrase[1] <- paste0("and ", phrase[1], ".")
items <- str_c(phrase[val:1], collapse = ", \n")
str_glue("{og} \n{items}")
}
line <- 2
phrase_col <- c("banana", "apple")
dataset <- data.frame(phrase_col)
sing_day(dataset, line, phrase_col)
sing_day(xmas2, 2, Full_Phrase)
purrr::map_chr(xmas$Gift.Item, pluralize_gift)
library(readr)
library(tidyverse)
library(lubridate)
library(stringr)
library(dplyr)
library(glue)
library(purrr)
library(english)
library(twelvedays)
xmas2 <- read.csv("https://www.dropbox.com/s/ap2hqssese1ki4j/xmas_2.csv?dl=1")
library(xfun)
xmas2$num_word = numbers_to_words(xmas2$Day)
pluralize_gift <- function(gift){
if(str_detect(gift, "y")){
gift <- str_replace(gift, "y", "ies")
} else if(str_detect(gift, "oo")){
gift <- str_replace(gift, "oo", "ee")
} else{
gift <- paste0(gift, "s")
}
}
make_phrase <- function(num, num_word, item, verb, adjective, location){
item <- replace_na(item, "")
verb <- replace_na(verb, "")
adjective <- replace_na(adjective, "")
location <- replace_na(location, "")
if (num > 1) {
item <- pluralize_gift(item)
}
str_squish(paste(num_word, adjective, item, verb, location, sep = " "))
}
sing_day <- function(dataset, line, phrase_col){
val <- line
num_word <- ordinal(val)
og <- str_glue("On the {num_word} day of Christmas, my true love gave to me,")
phrase <- dataset %>% pull( {{phrase_col}})
phrase[1] <- paste0("and ", phrase[1], ".")
items <- str_c(phrase[val:1], collapse = ", \n")
str_glue("{og} \n{items}")
}
xmas2 <- xmas2 %>%
mutate(Full.Phrase = pmap_chr(list(Day, num_word, Gift.Item, Verb, Adjective, Location), make_phrase))
map(1:12, ~sing_day(xmas2, .x, Full.Phrase)) %>%
str_c(collapse = "\n \n") %>%
cat()
make_phrase(5, "five", "fruit", "went", "tasty", "home")
line <- 2
phrase_col <- c("banana", "apple")
dataset <- data.frame(phrase_col)
sing_day(dataset, line, phrase_col)
#' @return A string singing the line of the song with all gifts for the given day.
#'
#' @import stringr
#' @import dplyr
#' @import glue
#' @import purrr
#' @import xfun
#' @import english
#' @import tidyverse
#' @export
sing_day <- function(dataset, line, phrase_col){
val <- line
num_word <- ordinal(val)
og <- str_glue("On the {num_word} day of Christmas, my true love gave to me,")
phrase <- dataset %>% pull( {{phrase_col}})
phrase[1] <- paste0("and ", phrase[1], ".")
items <- str_c(phrase[val:1], collapse = ", \n")
str_glue("{og} \n{items}")
}
map(1:12, ~sing_day(xmas2, .x, Full.Phrase)) %>%
str_c(collapse = "\n \n") %>%
cat()
line <- 2
phrase_col <- c("banana", "apple")
dataset <- data.frame(phrase_col)
sing_day(dataset, line, phrase_col)
View(xmas2)
View(xmas2)
line <- 2
phrase_col <- c("one banana", "two apple")
dataset <- data.frame(phrase_col)
sing_day(dataset, line, phrase_col)
line <- 2
phrase_col <- c("one banana", "two apples")
dataset <- data.frame(phrase_col)
sing_day(dataset, line, phrase_col)
line <- 1
phrase_col <- c("one banana", "two apples")
dataset <- data.frame(phrase_col)
sing_day(dataset, line, phrase_col)
line <- 2
phrase_col <- c("one banana", "two apples")
dataset <- data.frame(phrase_col)
sing_day(dataset, line, phrase_col)
line <- 1
phrase_col <- c("one banana", "two apples")
dataset <- data.frame(phrase_col)
sing_day(dataset, line, phrase_col)
library(twelvedays)
library(readr)
library(tidyverse)
library(lubridate)
library(stringr)
library(dplyr)
library(glue)
library(purrr)
library(english)
xmas2 <- read.csv("https://www.dropbox.com/s/ap2hqssese1ki4j/xmas_2.csv?dl=1")
library(xfun)
xmas2$num_word = numbers_to_words(xmas2$Day)
xmas2 <- xmas2 %>%
mutate(Full.Phrase = pmap_chr(list(Day, num_word, Gift.Item, Verb, Adjective, Location), make_phrase))
map(1:12, ~sing_day(xmas2, .x, Full.Phrase)) %>%
str_c(collapse = "\n \n") %>%
cat()
make_phrase(5, "five", "fruit", "went", "tasty", "home")
pluralize_gift <- function(gift){
if(str_detect(gift, "y")){
gift <- str_replace(gift, "y", "ies")
} else if(str_detect(gift, "oo")){
gift <- str_replace(gift, "oo", "ee")
} else{
gift <- paste0(gift, "s")
}
}
make_phrase <- function(num, num_word, item, verb, adjective, location){
item <- replace_na(item, "")
verb <- replace_na(verb, "")
adjective <- replace_na(adjective, "")
location <- replace_na(location, "")
if (num > 1) {
item <- pluralize_gift(item)
}
str_squish(paste(num_word, adjective, item, verb, location, sep = " "))
}
sing_day <- function(dataset, line, phrase_col){
val <- line
num_word <- ordinal(val)
og <- str_glue("On the {num_word} day of Christmas, my true love gave to me,")
phrase <- dataset %>% pull( {{phrase_col}})
phrase[1] <- paste0("and ", phrase[1], ".")
items <- str_c(phrase[val:1], collapse = ", \n")
str_glue("{og} \n{items}")
}
library(twelvedays)
library(readr)
library(tidyverse)
library(lubridate)
library(stringr)
library(dplyr)
library(glue)
library(purrr)
library(english)
xmas2 <- read.csv("https://www.dropbox.com/s/ap2hqssese1ki4j/xmas_2.csv?dl=1")
library(xfun)
xmas2$num_word = numbers_to_words(xmas2$Day)
xmas2 <- xmas2 %>%
mutate(Full.Phrase = pmap_chr(list(Day, num_word, Gift.Item, Verb, Adjective, Location), make_phrase))
map(1:12, ~sing_day(xmas2, .x, Full.Phrase)) %>%
str_c(collapse = "\n \n") %>%
cat()
make_phrase(5, "five", "fruit", "went", "tasty", "home")
